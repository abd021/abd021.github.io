<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
  <title>نظام استعارة الكتب الالكتروني - ادارة الكتب</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.rtl.min.css" integrity="sha384-gXt9imSW0VcJVHezoNQsP+TNrjYXoGcrqBZJpry9zJt8PCQjobwmhMGaDHTASo9N" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>



 <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<link rel="stylesheet" href="https://cdn.datatables.net/1.13.1/css/jquery.dataTables.min.css" />


<link href="css/style.css" rel="stylesheet">
</head>
<body>

    <div class="container-fluid">

      <div id="header" class="row"></div>

<div class="adminsidebar_container row">
    <div id="adminsidebar" class="col-lg-3 col-md-4 col-sm-12 col-12 adminsidebar">
      <div id="adminsidebarinner">
        <ul>
          <li><a href="index.html">الرئيسية</a></li>
          <li class="selected"><a href="bookhome.html">ادارة الكتب</a></li>
          <li><a href="userhome.html">ادارة المستخدمين</a></li>
          <li><a href="registredbooks.html">الاستعارة (الكتب المحجوزة)</a></li>
          <li><a href="takenbooks.html">الاستعارة ( الكتب المستعارة)</a></li>
          <li><a href="borrowingarchive.html">الاستعارة (الارشيف)</a></li>
          <li><a href="settings.html">الاعدادات</a></li>
          <li><a href="changepassword.html">تغيير كلمة السر</a></li>
          <li><a href="#"></a></li>
        </ul>
        </div>
    </div>



    <div id="adminpanel" class="col-lg-9 col-md-8 col-sm-12 col-12 adminpanel" >

      <div class="adminpanel_inner">

        <div class="adminpanelheader">

          <div class="page_title_container">
            <label>صفحة ادارة الكتب</label>
          </div>


          <button onclick="openaddbook()" type="button" class="btn btn-lg maincolor1bg hover whitecolor">اضافة كتاب</button>

        </div>

      <div class="adminpanelbody">
        <div class="table-responsive">
        <table id="bookstable" class="gentable table">
          <thead>
            <tr><th>#</th><th>عنوان الكتاب</th><th>اسم المؤلف</th><th>عدد الصفحات</th><th>عدد النسخ</th><th>عدد النسخ المتاحة للاستلاف</th><th>تعديل</th><th>حذف</th></tr>
          </thead>
          <tbody>

          </tbody>
        </table>
      </div> 
      </div>

      <div class="adminpanelfooter">

      </div>


      </div>

    </div>



</div>


      </div>



      <!-- The Modal -->
<div class="modal" id="myModal">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 id="bookformtitle" class="modal-title">اضافة كتاب</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        
        <form id="addbookform">
          <input type="hidden" id="type" name="type" value="" />
          <input type="hidden" id="bookprimaryid" name="bookprimaryid" value="" />
          <div class="mb-3 mt-3">
            <label for="title" class="form-label">عنوان الكناب</label>
            <input type="text" class="form-control" name="title" id="title" placeholder="ادخل عنوان الكتاب" >
          </div>
          <div class="mb-3 mt-3">
            <label for="author" class="form-label">المؤلف</label>
            <input type="text" class="form-control" name="author" id="author" placeholder="ادخل اسم المؤلف" >
          </div>
          <div class="mb-3 mt-3">
            <label for="serial" class="form-label">الرقم التسلسلي</label>
            <input type="text" class="form-control" name="serial" id="serial" placeholder="ادخل الرقم التسلسلي" >
          </div>
          <div class="mb-3 mt-3">
            <label for="publishdate" class="form-label">تاريخ النشر</label>
            <div class="input-group">

              <select id="dayselect" class="form-select">
                <option value="">اختر اليوم</option>
                </select> 
                <select id="monthselect" class="form-select">
                  <option value="">اختر الشهر</option>
                  </select> 
                  <select id="yearselect" class="form-select">
                    <option value="">اختر السنة</option>
                    </select> 
            </div>
          
          
          </div>
          <div class="mb-3 mt-3">
            <label for="pages" class="form-label">عدد الصفحات</label>
            <input type="text" class="form-control" name="pages" id="pages" placeholder="ادخل عدد الصفحات" >
          </div>
          <div class="mb-3 mt-3">
            <label for="copynum" class="form-label">عدد النسخ</label>
            <input type="text" class="form-control" name="copynum" id="copynum" placeholder="ادخل عدد النسخ" >
          </div>
          <button type="button" onclick="addBook()" class="btn maincolor1bg">حفظ</button>
        </form> 

      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">اغلاق</button>
      </div>

    </div>
  </div>
</div>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
<script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"></script>
<script>
  let currpage = "bookhome";
  let autonum = 1;
  $(document).ready(function() {
      table1 =  $('#bookstable').DataTable({
    columns: [
    { data: 'autonum' },
    { data: 'title' },
    { data: 'author' },
    { data: 'pagesno' },
    { data: 'copyno' },
    { data: 'status' },
    { data: 'edit' },
    { data: 'delete' },
  ]
  });
  })
</script>
<script src="js/script.js"></script>

<div id="overlay" class="overlay">
<img src="images/loading.gif" />
</div>
<script>
$(document).ready(function () {

  
  let nowyear = new Date().getFullYear();

  for(let i=1800;i<=nowyear;i++)
  {
  $("#yearselect").append("<option value='"+i+"'>"+i+"</option>")
  }



  for(let i=1;i<=31;i++)
  {
  $("#dayselect").append("<option value='"+i+"'>"+i+"</option>")
  }


 let montha = [];
 montha[0] = "كانون الثاني";
 montha[1] = "شباط";
 montha[2] = "آذار";
 montha[3] = "نيسان";
 montha[4] = "أيار";
 montha[5] = "حزيران";
 montha[6] = "تموز";
 montha[7] = "آب";
 montha[8] = "أيلول";
 montha[9] = "تشرين الأول";
 montha[10] = "تشرين الثاني";
 montha[11] = "كانون الأول";



 let monthe = [];
 monthe[0] = "يناير";
 monthe[1] = "فبراير";
 monthe[2] = "مارس";
 monthe[3] = "ابريل";
 monthe[4] = "مايو";
 monthe[5] = "يونيو";
 monthe[6] = "يوليو";
 monthe[7] = "أغسطس";
 monthe[8] = "سبتمبر";
 monthe[9] = "اكتوبر";
 monthe[10] = "نوفمبر";
 monthe[11] = "ديسمبر";


 for(let i=0;i<montha.length;i++)
  {
  $("#monthselect").append("<option value='"+(i+1)+"'>"+montha[i]+" - "+monthe[i]+"</option>")
  }


$("#addbookform").on("change","#monthselect",function() {

  let counter = 0;
  let day = $("#dayselect").val();
  let curr = $("#monthselect").val();
  if(curr==1 || curr==3 || curr==5 || curr==7 || curr==8 || curr==10 || curr== 12)
  {
   counter = 31;
  }
  else if(curr==2)
  {
    counter = 29;
  }
  else
  {
    counter = 30;
  }

  $("#dayselect").empty();
  $("#dayselect").append("<option value=''>اختر اليوم</option>");
  for(let i=1;i<=counter;i++)
  {
  $("#dayselect").append("<option value='"+i+"'>"+i+"</option>");
  }

  $("#dayselect").val(day);

})



  });
  </script>


</body>
</html>